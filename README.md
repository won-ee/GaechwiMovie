# <img src = './front/src/assets/logo.png' width=40 height=40 > ê°œì·¨ë¬´ë¹„

## ğŸ“š ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#-ğŸ—“ï¸í”„ë¡œì íŠ¸-ê°œìš”)

2. [íŒ€](#-ğŸ‘¯â€â™€ï¸íŒ€ì›-ì •ë³´-ë°-ì—…ë¬´-ë¶„ë‹´-ë‚´ì—­)
   
3. [ì„œë¹„ìŠ¤ ì†Œê°œ](#-ğŸ“¢ì„œë¹„ìŠ¤-ì†Œê°œ)
  
    1. [ì„œë¹„ìŠ¤ ê¸°íš ëª©í‘œ](#ì„œë¹„ìŠ¤-ê¸°íš-ëª©í‘œ)
   
    2. [ERD](#ERD)
   
    3. [WireFrame](#WireFrame)

    4. [ì˜í™” ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜](#ì˜í™”-ì¶”ì²œ-ì•Œê³ ë¦¬ì¦˜)
   
4. [ê¸°ëŠ¥ êµ¬í˜„/ ìš”êµ¬ì‚¬í•­](#ğŸ’»ê¸°ëŠ¥-êµ¬í˜„-ìš”êµ¬ì‚¬í•­)
    1. [êµ¬í˜„ í™”ë©´](#í™ˆ-í™”ë©´)
    2. [ìš”êµ¬ ì‚¬í•­](#ğŸ¯-ìš”êµ¬-ì‚¬í•­--ê¸°ëŠ¥êµ¬í˜„) 

5. [ëŠë‚€ì ](#ğŸ‘-ëŠë‚€-ì )
   
6. [ì˜¤í”ˆì†ŒìŠ¤ ì¶œì²˜](#ğŸ“-ì˜¤í”ˆì†ŒìŠ¤-ì¶œì²˜)
   



## ğŸ—“ï¸í”„ë¡œì íŠ¸ ê°œìš”

### ì§„í–‰ ê¸°ê°„
2023.05.16 ~ 2022.05.24 ì˜¤ì „ 9ì‹œ (9ì¼ê°„)

### ê¸°ìˆ  ìŠ¤íƒ

![GitHub](https://img.shields.io/badge/GitHub-100000?style=for-the-badge&logo=github&logoColor=white)
![Notion](https://img.shields.io/badge/Notion-330F63?style=for-the-badge&logo=notion&logoColor=white)

![Python](https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=1D9FD7)![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)![HTML5](https://img.shields.io/badge/html5-%23E34F26.svg?style=for-the-badge&logo=html5&logoColor=white)![CSS3](https://img.shields.io/badge/css3-%231572B6.svg?style=for-the-badge&logo=css3&logoColor=white)

![Django](https://img.shields.io/badge/django-%23092E20.svg?style=for-the-badge&logo=django&logoColor=white)![Vue.js](https://img.shields.io/badge/vuejs-%2335495e.svg?style=for-the-badge&logo=vuedotjs&logoColor=%234FC08D)
  
![Bootstrap](https://img.shields.io/badge/Bootstrap-563D7C?style=for-the-badge&logo=bootstrap&logoColor=white)

## ğŸ‘¯â€â™€ï¸íŒ€ì› ì •ë³´ ë° ì—…ë¬´ ë¶„ë‹´ ë‚´ì—­

ê³ ì¶©ì› - í™”ë©´ ì„¤ê³„ì„œ ì œì‘ ë° ì»´í¬ë„ŒíŠ¸ ì„¤ê³„, OST, ì˜í™” ëª…ëŒ€ì‚¬ ë°ì´í„° ìˆ˜ì§‘ ë° ì •ì œ, Front-END ê°œë°œ ë° UI, UX ê°œì„ 

ì„ì„±í›ˆ - ì˜í™” ë°ì´í„° ìˆ˜ì§‘ ë° ì •ì œ, ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ ê°œë°œ, ERD ì„¤ê³„, DB êµ¬ì¶œ ë° Back-End ê°œë°œ

## ğŸ“¢ì„œë¹„ìŠ¤ ì†Œê°œ

### ì„œë¹„ìŠ¤ ê¸°íš ëª©í‘œ

ì‚¬ìš©ìê°€ ìì‹ ì˜ ì·¨í–¥ì— ë§ëŠ” ì˜í™”ë¥¼ ì°¾ëŠ”ë° ì‹œê°„ì„ ì•„ë‚„ ìˆ˜ ìˆë„ë¡ ì˜í™” ì¶”ì²œ

### ERD

![Alt text](assets/image.png)


### Wireframe

#### Figma
![Alt text](assets/mockup.png)



### ì˜í™” ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜

ì˜í™”ë§ˆë‹¤ ê°€ì§€ê³  ìˆëŠ” í‚¤ì›Œë“œë“¤ì´ ìˆê³  ê·¸ í‚¤ì›Œë“œ ëª¨ë¸ê³¼ ìœ ì € ëª¨ë¸ì„ ê´€ê³„ ë§ºì–´, countí•„ë“œê°€ ë“¤ì–´ ìˆëŠ” Userkeywordëª¨ë¸ì„ ìƒì„±í•©ë‹ˆë‹¤.

ê·¸ í›„ ì¢‹ì•„ìš” ëˆ„ë¥¸ ì˜í™”ì˜ í‚¤ì›Œë“œë§ˆë‹¤ +1,
ì‹«ì–´ìš” ëˆ„ë¥¸ ì˜í™”ì˜ í‚¤ì›Œë“œë§ˆë‹¤ -1ì„ í•©ë‹ˆë‹¤.

```
# ì¢‹ì•„ìš” ëˆ„ë¥´ê¸°
@api_view(['POST'])
def like_movie(request, movie_pk):
    user = request.user
    movie = get_object_or_404(Movie, pk=movie_pk)
    # ì¢‹ì•„ìš”ê°€ ëˆŒëŸ¬ì ¸ ìˆì„ ë•Œ
    if movie.like_users.filter(pk=user.pk).exists():
        movie.like_users.remove(user)
        # í‚¤ì›Œë“œ-1
        remove_user_keywords(user, movie)
        serializer = MovieSerializer(movie)
        return Response(serializer.data)
    # ì¢‹ì•„ìš” ì•ˆ ëˆŒëŸ¬ì ¸ ìˆì„ ë•Œ
    else:
        if movie.dislike_users.filter(pk=user.pk).exists():
            movie.dislike_users.remove(user)
            # ì‹«ì–´ìš” ì·¨ì†Œ ë˜ë‹ˆê¹Œ í‚¤ì›Œë“œ+1
            add_user_keywords(user, movie)
        movie.like_users.add(user)
        # í‚¤ì›Œë“œ +1
        add_user_keywords(user, movie)
        serializer = MovieSerializer(movie)
        return Response(serializer.data)
```
 - ì‹«ì–´ìš” ëˆ„ë¥´ëŠ” í•¨ìˆ˜ë„ ìœ„ì™€ ë˜‘ê°™ìœ¼ë‹ˆ ìƒëµ

```
# í‚¤ì›Œë“œ + 1
def add_user_keywords(user, movie):
    # idë¥¼ ë°›ê¸° ìœ„í•´ values_list ì‚¬ìš©
    keyword_ids = movie.keywords.values_list('id', flat=True)
    for keyword_id in keyword_ids:
        # í•„ë“œì— í‚¤ì›Œë“œê°€ ì—†ìœ¼ë©´ ìƒì„±
        user_keyword, created = UserKeyword.objects.get_or_create(user=user, keyword_id=keyword_id)
        # ì¹´ìš´íŠ¸
        user_keyword.count += 1
        user_keyword.save()
    return
```
- í‚¤ì›Œë“œ -1 í•¨ìˆ˜ë„ ìœ„ì™€ ë˜‘ê°™ìœ¼ë‹ˆ ìƒëµ

countê°€ 0ë³´ë‹¤ í° í‚¤ì›Œë“œë“¤ë§Œ ì¶”ì¶œí•´ì„œ ë‹¨ìˆœíˆ ì¢‹ì•„í•˜ëŠ” keywordì˜ ê°œìˆ˜ê°€ ì•„ë‹Œ ë‚´ê°€ ì¢‹ì•„ìš” ëˆ„ë¥¸ countì˜ í•©ì„ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë½‘ì•„ì™”ìŠµë‹ˆë‹¤.
```
# ì˜í™” ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜
@api_view(['GET'])
def recommended(request, user_pk, page_pk):
    # countê°€ 0ë³´ë‹¤ í° keywordsë¥¼ ì¶”ì¶œ
    user_keywords = UserKeyword.objects.filter(user_id=user_pk, count__gt=0)
    
    # keywords id ë¦¬ìŠ¤íŠ¸ ìƒì„±
    keyword_ids = user_keywords.values_list('keyword_id', flat=True)

    # ì‚¬ìš©ìê°€ ì¢‹ì•„ìš”í•œ ì˜í™” ì œì™¸í•˜ê³ , ê° í‚¤ì›Œë“œì˜ count í•©ì„ ê¸°ì¤€ìœ¼ë¡œ í° ìˆœì„œë¶€í„° ì •ë ¬
    recommended_movies = Movie.objects.filter(
        keywords__in=keyword_ids
    ).exclude(
        like_users__id=user_pk
    ).annotate(
        keyword_match_count=Sum(
            Case(
                *[
                    When(keywords=keyword_id, then=user_keyword.count) 
                    for keyword_id, user_keyword in zip(keyword_ids, user_keywords)
                ],
                default=0,
                output_field=IntegerField()
            )
        )
    ).order_by('-keyword_match_count').distinct()
    
    # í•œ í˜ì´ì§€ë‹¹ 10ê°œì˜ ë°ì´í„° ì €ì¥
    paginator = Paginator(recommended_movies, 10)
    
    page = request.GET.get('page', page_pk)
    page_movies = paginator.get_page(page)
    serializer = MovieSerializer(page_movies, many=True)
    
    return Response(serializer.data)
```

## ğŸ’»ê¸°ëŠ¥ êµ¬í˜„/ ìš”êµ¬ì‚¬í•­

### í™ˆ í™”ë©´
![image](assets/main.png)


### ì˜í™” ê²€ìƒ‰ í˜ì´ì§€
![image](assets/index.png)
### ì˜í™” ë””í…Œì¼ í˜ì´ì§€
![image](assets/moviedetail.png)
### ë°°ìš° ë””í…Œì¼ í˜ì´ì§€
![image](assets/actor.png)
### ë¦¬ë·° ìƒì„± 
![image](assets/createreview.png)
### ë¦¬ë·° í˜ì´ì§€
![image](assets/review.png)

### ëœë¤ ì¶”ì²œ
![image](assets/random.png)
###  ì˜í™” ì¶”ì²œ
![image](assets/movierecommend.png)
### ì±—ë´‡
![image](assets/chatbot.png)

### signup/login
![image](assets/signup.png)
![image](assets/login.png)

### í”„ë¡œí•„
![image](assets/profile.png)


### ğŸ¯ ìš”êµ¬ ì‚¬í•­
- êµ¬í˜„ì„±ê³µ â­•
- êµ¬í˜„ì‹¤íŒ¨ âŒ
- í•„ìˆ˜ ìš”êµ¬ì‚¬í•­ âœ…
- ì¶”ê°€ë¡œ êµ¬í˜„ í•œ ê¸°ëŠ¥ ğŸ’–


1. ì˜í™” ë°ì´í„° â­• âœ…
2. ì˜í™” ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ â­• âœ…
3. API â­• âœ…
4. ì»¤ë®¤ë‹ˆí‹° â­• âœ…
5. README â­• âœ…
6. Ai Chat bot ê¸°ëŠ¥ â­•ğŸ’–
7. Ai ê¸°ë°˜ Chat GPT ê°€ í•´ì£¼ëŠ” ì˜í™” ì¶”ì²œ â­•ğŸ’–
8. ì˜í™” ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ â­•ğŸ’–
9. ëœë¤ ì˜í™” ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ â­•ğŸ’–

## ğŸ‘ ëŠë‚€ ì 

ì„ì„±í›ˆ - 

ê³ ì¶©ì› - 

## ğŸ“ ì˜¤í”ˆì†ŒìŠ¤ ì¶œì²˜

- TMDB : https://developer.themoviedb.org/reference/intro/getting-started 
- GPT : https://openai.com/index/openai-api/